/**
 * ngScreening v0.0.1
 *
 * @license: MIT
 * Designed and built by Moer
 * github   https://github.com/Moerj/ngScreening
 *
 */
!function(e){var n=e.module("ngScreening",[]);n.directive("ngScreening",function(){return{restrict:"E",scope:{callback:"&"},replace:!0,transclude:!0,template:'<div class="ngScreening"><div class="ngScreening-container" ng-transclude></div><div class="ngScreening-switch"><b>></b><i class="ngScreening-hide">></i></div></div>',controller:["$scope",function(e){this.callback=function(){return e.callback()}}],link:function(n,i,t){var c=e.element(i[0].querySelector(".ngScreening-container")),r=c.next(),l=r.find("b"),s=r.find("i");r.on("click",function(e){e.preventDefault(),c.toggleClass("ngScreening-hide"),l.toggleClass("ngScreening-hide"),s.toggleClass("ngScreening-hide")})}}}),n.directive("screening",function(){return{restrict:"AE",scope:{title:"@"},replace:!0,transclude:!0,require:"^ngScreening",template:'<div class="screening"><div class="screening-name">{{title}}:</div><div class="screening-container" ng-transclude></div><div class="screening-switch"><b class="ngScreening-hide">></b><i>></i></div></div>',link:function(n,i,t,c){var r=e.element(i[0].querySelector(".screening-switch")),l=r.find("b"),s=r.find("i");r.on("click",function(){return i.toggleClass("screening-fixed"),l.toggleClass("ngScreening-hide"),s.toggleClass("ngScreening-hide"),!1}),e.element(document).ready(function(){i[0].offsetHeight>48&&(r.css("display","block"),i.addClass("screening-fixed"))})}}}),n.directive("screeningCheckbox",function(){return{restrict:"AE",scope:{data:"=",multi:"@"},require:"^ngScreening",template:'<input type="button"ng-class="{\'btn\':true,\'btn-sm\':true,\'btn-default\':true,\'btn-primary\':mulitiActive}" /> | <input type="button"ng-repeat="item in data"ng-class="{\'btn\':true,\'btn-sm\':true,\'btn-default\':!item.isChecked, \'btn-primary\':item.isChecked}"ng-click="checkItem()"ng-if="!item.isHidden"ng-value="item.name"index="{{$index}}">',controller:["$scope",function(n){n.mulitiActive=!1,n.checkItem=function(){return this.item.isChecked=!this.item.isChecked,this.pCtrl.callback(),!1},n.mulitiToggle=function(){n.mulitiActive=!n.mulitiActive,e.forEach(this.data,function(e,i){e.isChecked=n.mulitiActive}),this.pCtrl.callback()}}],link:function(e,n,i,t){e.pCtrl=t;var c=n.children().eq(0);void 0!=i.multi?(c.val("全选"),e.mulitiActive=!1,c.on("click",function(){return e.mulitiToggle(),e.$apply(),!1})):c.val("单选")}}})}(angular);